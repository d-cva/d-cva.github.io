---
title: "IP Basics"
mathjax: true
layout: post
category: media
---
<h1>Ipv4 Datagram header</h1>
Datagram : is a unit of data transfer in packet-switched network, containing header and the payload.


The Internet Protocol (IP) header contains fields to manage the logical addressing and forwarding function. The IP header contains two field for 32 bit source and destination addresses, plus other fields to support forwarding functions.

![image](assets/IPv4_Packet-en.svg.png)
>Image refrence: <url>https://en.wikipedia.org/wiki/IPv4</url>

Some network layer protocols run directly on IP. These IP protocol types include the following:
- Internet Control Message Protocol (ICMP/1) is used for status messaging and connectivity testing.
- Internet Control Message Protocol (ICMP/2) is used with multicasting
- Generic Routing Encapsulation (GRE/47) is used to tunnel packets across an intermediate network.
    - This is used in some virtual private network implementation
- Encapsulating Security Payload (ESP/50) and Authentication Header (AH/51) are used with the encrypted form of IP(IPSec)
- Enhanced Interior Gateway Routing Protocol(EIGRP/88) and Open Shortest Path First(OSPF/89) are protocols used by routers to exchange information about the paths to the remote networks.

<h1>Layer 2 vs. Layer 3 Addressing and Forwarding</h1><br>
- The packets forwarding at layer 3 is called routing. Router functions at layer 3 and uses the IP address to forward the packets from one host or network to another. 
- Switches functions at layer 2, switches use the MAC or media access control address to forward the frames. In switch each port acts as a single broadcast domain, switches uses the inbuilt MAC table to forward the frames to each ports according to the table. The process of forwarding these frames is called switching at layer 2.
- When there are multiple subnets in the network routers are needed to create the communication between these subnets, as switch functions at layer 2, subnets or the IP address falls under layer 3 and in order to communicate with these subnets layer3 (router) device is needed 
